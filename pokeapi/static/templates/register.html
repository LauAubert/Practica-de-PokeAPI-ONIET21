{% extends 'base.html' %}

{% block content %}
<div class="py-5"></div>
    <div class="container">
        <div class="columns is-justify-content-space-around">
            <div class="column is-half">
                <div class="card has-text-centered">
                    <form action="" method="post" id='reg-form'>
                        {% csrf_token %}
                    <div class="py-3"></div>
                    <h1 class="title has-text-centered">Regístrese</h1>
                    <div class="field">
                        <p class="control has-icons-left has-icons-right">
                          <input class="input" type="username"name="username" placeholder="Usuario">
                          <span class="icon is-small is-left">
                            <i class="fas fa-envelope"></i>
                          </span>
                          <span class="icon is-small is-right">
                            <i class="fas fa-check"></i>
                          </span>
                        </p>
                      </div>
                      <div class="field">
                        <p class="control has-icons-left">
                          <input class="input" name='email'type="text" placeholder="Correo">
                          <span class="icon is-small is-left">
                            <i class="fas fa-lock"></i>
                          </span>
                        </p>
                      </div>
                      <div class="field is-grouped">
                            <input class="input" name='first_name'type="text" placeholder="Nombre">
                            <div class="px-5"></div>
                            <input class="input" name='last_name'type="text" placeholder="Apelldo">
                        </div>
                        <div class="field is-grouped">
                            <input id='p1'class="input" name='password'type="password" placeholder="Contraseña">
                            <div class="px-5"></div>
                            <input id='p2'class="input" type="password" placeholder="Confirmar contraseña">
                        </div>
                      {% if Failed %}
                      <p class="has-text-danger">Las credenciales no son validas</p>
                    {% endif %}
                        <p class="has-text-danger" id='msg-contra' hidden>Las contraseñas no coinciden</p>

                      
                    </form>
                    <div class="py-3"></div>
                      <button class="button is-success" id="boton">Registrarse</button>
                      <a class="button" href="/usermenu/register/">Iniciar Sesion</a>
                      <div class="py-1"></div>
                      <a class="button is-info" href="/menu/">Volver</a>
                      <div class="py-2"></div>

                    
                </div>
            </div>
        </div>
    </div>


<script>
    const form = document.getElementById('reg-form')
    const boton = document.getElementById('boton')
    const p1 = document.getElementById('p1')
    const p2 = document.getElementById('p2')
    boton.addEventListener('click',function(){
        console.log(p1.value,p2.value)

        if(p1.value != p2.value) {
            document.getElementById('msg-contra').hidden = false
        }
        if (p1.value === p2.value){form.submit();}

    })
</script>



{% endblock content %}
    